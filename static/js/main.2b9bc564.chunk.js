(this["webpackJsonp01-todolist"]=this["webpackJsonp01-todolist"]||[]).push([[0],{116:function(t,e,n){t.exports={appWrapper:"App_appWrapper__XaXhv"}},120:function(t,e,n){t.exports=n(245)},125:function(t,e,n){},245:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(54),i=n.n(r);n(125),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(8),c=n(248),l=n(112),u=n(6),d=n.n(u),p=n(17),f=n(81),m=n(7),T=n(113),h=n.n(T).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"2a70584b-20f7-4ff5-8c15-684fb9f4be7b"}}),v=function(t,e){return h.post("/todo-lists/".concat(e,"/tasks"),{title:t})},k=function(t){return h.get("/todo-lists/".concat(t,"/tasks"))},E=function(t,e){return h.put("/todo-lists/tasks",Object(m.a)({},t,{},e))},b=function(t){return h.delete("/todo-lists/tasks/".concat(t))},g=function(t){return h.delete("/todo-lists/".concat(t))},_=function(){return h.get("/todo-lists")},O=function(t){return h.post("/todo-lists",{title:t})},L=function(t,e){return h.put("/todo-lists/".concat(t),{title:e})},j=function(){return h.get("/auth/me").then((function(t){return t.data}))},A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h.post("/auth/login",{email:t,password:e,rememberMe:n}).then((function(t){return t.data}))},w=function(){return h.delete("/auth/login").then((function(t){return t.data}))},C={todolists:[]},S=function(t,e){return{type:"TodoList/Reducer/CHANGE_TODOLIST",todolistId:t,newTodolistTitle:e}},y=function(t,e){return{type:"TodoList/Reducer/SET_TASKS",tasks:t,todolistId:e}},I=function(t){return{type:"TodoList/Reducer/SET_TODOLISTS",todolists:t}},D=function(t,e){return{type:"TodoList/Reducer/DELETE_TASK",todolistId:t,taskId:e}},N=function(t,e,n){return{type:"TodoList/Reducer/CHANGE_TASK",taskId:t,obj:e,todolistId:n}},x=function(t,e){return{type:"TodoList/Reducer/ADD_TASK",newTask:t,todolistId:e}},F=function(t){return{type:"TodoList/Reducer/DELETE_TODOLIST",todolistId:t}},M=function(t){return{type:"TodoList/Reducer/ADD_TODOLIST",newTodoList:t}},R=function(t,e,n,a){return{type:"TodoList/Reducer/SET_AUTH_USER_DATA",payload:{userId:t,email:e,login:n,isAuth:a}}},H={userId:null,email:null,login:null,isAuth:!1},K=function(){return function(){var t=Object(p.a)(d.a.mark((function t(e){var n,a,o,r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:0===(n=t.sent).resultCode&&(a=n.data,o=a.id,r=a.email,i=a.login,e(R(o,r,i,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=Object(s.c)({reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/ADD_TODOLIST":return Object(m.a)({},t,{todolists:[].concat(Object(f.a)(t.todolists),[e.newTodoList])});case"TodoList/Reducer/SET_TODOLISTS":return Object(m.a)({},t,{todolists:e.todolists.map((function(t){return Object(m.a)({},t,{tasks:[]})}))});case"TodoList/Reducer/DELETE_TODOLIST":return Object(m.a)({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});case"TodoList/Reducer/ADD_TASK":return Object(m.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(m.a)({},t,{tasks:[].concat(Object(f.a)(t.tasks),[e.newTask])}):t}))});case"TodoList/Reducer/SET_TASKS":return Object(m.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(m.a)({},t,{tasks:e.tasks}):t}))});case"TodoList/Reducer/CHANGE_TASK":return Object(m.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(m.a)({},t,{tasks:t.tasks.map((function(t){return t.id===e.taskId?Object(m.a)({},t,{},e.obj):t}))}):t}))});case"TodoList/Reducer/CHANGE_TODOLIST":return Object(m.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(m.a)({},t):t}))});case"TodoList/Reducer/DELETE_TASK":return Object(m.a)({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(m.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/SET_AUTH_USER_DATA":return Object(m.a)({},t,{},e.payload);default:return t}},form:c.a}),B=Object(s.d)(V,Object(s.a)(l.a)),G=n(18),U=n(9),P=n(10),J=n(11),W=n(116),X=n.n(W),Y=n(42),q=n.n(Y),z=n(247),Z=n(246),Q=function(t){if(!t)return"Field is required"},$=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}},tt=n(118),et=n(75),nt=n.n(et),at=function(t){var e=t.input,n=t.meta,a=Object(tt.a)(t,["input","meta"]),r=n.touched&&n.error;return o.a.createElement("div",{className:nt.a.formControl+" "+(r&&nt.a.error)},o.a.createElement("input",Object.assign({},e,a)),r&&o.a.createElement("span",null,n.error))},ot=n(26),rt=$(20),it=$(40),st=Object(Z.a)({form:"login"})((function(t){return o.a.createElement("form",{onSubmit:t.handleSubmit,className:q.a.loginForm},o.a.createElement(z.a,{component:at,name:"email",placeholder:"Email",validate:[Q,it]}),o.a.createElement(z.a,{component:at,name:"password",type:"password",placeholder:"Password",validate:[Q,rt]}),o.a.createElement("div",null,o.a.createElement(z.a,{component:at,type:"checkbox",name:"rememberMe"}),"remember me"),o.a.createElement("button",null,"Login"))})),ct=Object(G.b)((function(t){return{isAuth:t.auth.isAuth}}),{login:function(t,e,n){return function(){var a=Object(p.a)(d.a.mark((function a(o){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A(t,e,n);case 2:0===a.sent.resultCode&&o(K());case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()}})((function(t){return t.isAuth?o.a.createElement(ot.a,{to:"/"}):o.a.createElement("div",{className:q.a.login},o.a.createElement("div",{className:q.a.loginTitle},"Login"),o.a.createElement(st,{onSubmit:function(e){t.login(e.email,e.password,e.rememberMe)}}),o.a.createElement("div",{className:q.a.testData},"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435 e-mail \u0438 password:",o.a.createElement("div",null,"E-mail: ",o.a.createElement("span",null,"free@samuraijs.com")),o.a.createElement("div",null,"Password: ",o.a.createElement("span",null,"free"))))})),lt=n(34),ut=n(43),dt=n.n(ut),pt=n(44),ft=n.n(pt),mt=n(56),Tt=n.n(mt),ht=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,title:t.props.task.title},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactiveEditMode=function(){t.props.changeTitle(t.props.task.id,t.state.title),t.setState({editMode:!1})},t.onIsDoneChanged=function(e){var n=e.currentTarget.checked?2:0;t.props.changeIsDoneStatus(t.props.task.id,n)},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.onDeleteTask=function(){t.props.deleteTask(t.props.task.id)},t.render=function(){var e=t.props.task.status?"".concat(ft.a.done):"";return o.a.createElement("div",{className:ft.a.todoListTask},o.a.createElement("input",{type:"checkbox",id:"check",checked:2===t.props.task.status,onChange:t.onIsDoneChanged}),o.a.createElement("div",{className:ft.a.todoListTaskItem},o.a.createElement("div",null,t.state.editMode?o.a.createElement("input",{onBlur:t.deactiveEditMode,onChange:t.onTitleChanged,autoFocus:!0,value:t.state.title}):o.a.createElement("span",{onClick:t.activateEditMode,className:e},t.props.task.title)),o.a.createElement("button",{className:ft.a.todoListTaskDelete,onClick:t.onDeleteTask},o.a.createElement("img",{src:Tt.a,alt:"basket"}))))},t}return n}(o.a.Component),vt=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).render=function(){var e=t.props.tasks.map((function(e){return o.a.createElement(ht,{key:e.id,task:e,changeIsDoneStatus:t.props.changeIsDoneStatus,changeTitle:t.props.changeTitle,deleteTask:t.props.deleteTask})}));return o.a.createElement("div",null,e)},t}return n}(o.a.Component),kt=n(45),Et=n.n(kt),bt=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onComplitedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onHideFilterClick=function(){t.setState({isHidden:!0})},t.onShowFilterClick=function(){t.setState({isHidden:!1})},t.render=function(){var e="All"===t.props.filterValue?"".concat(Et.a.filterActive):"",n="Completed"===t.props.filterValue?"".concat(Et.a.filterActive):"",a="Active"===t.props.filterValue?"".concat(Et.a.filterActive):"";return o.a.createElement("div",{className:Et.a.todoListFooter},!t.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){t.onAllFilterClick()},className:e},"All"),o.a.createElement("button",{onClick:function(){t.onComplitedFilterClick()},className:n},"Completed"),o.a.createElement("button",{onClick:function(){t.onActiveFilterClick()},className:a},"Active")),!t.state.isHidden&&o.a.createElement("span",{onClick:function(){t.onHideFilterClick()}},"hide"),t.state.isHidden&&o.a.createElement("span",{onClick:function(){t.onShowFilterClick()}},"show"))},t}return n}(o.a.Component),gt=n(79),_t=n.n(gt),Ot=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={error:!1,title:""},t.onInputTextChange=function(e){t.setState({error:!1,title:e.currentTarget.value})},t.onAddNewItemTitle=function(){var e=t.state.title;t.setState({title:""}),""===e?t.setState({error:!0}):(t.setState({error:!1}),t.props.addNewTitle(e))},t.onPressEnter=function(e){"Enter"===e.key&&t.onAddNewItemTitle()},t.render=function(){var e=t.state.error?"error":"";return o.a.createElement("div",{className:_t.a.todoListHeader},o.a.createElement("div",{className:_t.a.todoListNewTaskForm},o.a.createElement("input",{type:"text",placeholder:"New item name",className:e,onChange:t.onInputTextChange,onKeyPress:t.onPressEnter,value:t.state.title}),o.a.createElement("button",{onClick:function(){t.onAddNewItemTitle()}},"Add")))},t}return n}(o.a.Component),Lt=n(29),jt=n.n(Lt),At=n(80),wt=n.n(At),Ct=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={title:t.props.title,editMode:!1},t.activeEditMode=function(){t.setState({editMode:!0})},t.deactiveEditMode=function(){t.props.changeTodolist(t.state.title),t.setState({editMode:!1})},t.changeTodolistTitle=function(e){t.setState({title:e.currentTarget.value})},t.render=function(){return o.a.createElement("div",null,t.state.editMode?o.a.createElement("input",{onBlur:t.deactiveEditMode,autoFocus:!0,value:t.state.title,onChange:t.changeTodolistTitle,className:wt.a.todolistTitleInput}):o.a.createElement("h3",{className:wt.a.todolistHeaderTitle,onClick:t.activeEditMode},t.state.title))},t}return n}(o.a.Component),St=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={filterValue:"All",nextTaskId:3,editMode:!1},t.setTasks=function(){t.props.loadTasks(t.props.id)},t.addTask=function(e){t.props.addTask(e,t.props.id)},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeTask=function(e,n){var a=t.props.tasks.find((function(t){return t.id===e})),o=Object(m.a)({},a,{},n);t.props.changeTask(e,t.props.id,o,n)},t.changeTodolist=function(e){t.props.changeTodolist(t.props.id,e)},t.changeIsDoneStatus=function(e,n){t.changeTask(e,{status:n})},t.changeTitle=function(e,n){t.changeTask(e,{title:n})},t.deleteTask=function(e){t.props.deleteTask(t.props.id,e)},t.deleteTodolist=function(){t.props.deleteTodolist(t.props.id)},t.activateEditMode=function(){t.setState({editMode:!0}),alert(!0)},t.deactivateEditMode=function(){t.setState({editMode:!1}),alert(!1)},t.render=function(){var e=t.props.tasks,n=void 0===e?[]:e;return o.a.createElement("div",{className:jt.a.App},o.a.createElement("div",{className:jt.a.todoList},o.a.createElement("div",{className:jt.a.todoListHeader},o.a.createElement(Ct,{title:t.props.title,changeTodolist:t.changeTodolist}),o.a.createElement("button",{onClick:function(){t.deleteTodolist()},className:jt.a.todoListDeleteButton},o.a.createElement("img",{src:Tt.a,alt:"basket"}))),o.a.createElement("div",{className:jt.a.todoListInput},o.a.createElement(Ot,{addNewTitle:t.addTask})),o.a.createElement("div",{className:jt.a.todoListContent},o.a.createElement(vt,{changeIsDoneStatus:t.changeIsDoneStatus,changeTitle:t.changeTitle,deleteTask:t.deleteTask,tasks:n.filter((function(e){return"All"===t.state.filterValue?2:"Active"===t.state.filterValue?0===e.status:2===e.status}))})),o.a.createElement(bt,{changeFilter:t.changeFilter,filterValue:t.state.filterValue})))},t}return Object(lt.a)(n,[{key:"componentDidMount",value:function(){this.setTasks()}}]),n}(o.a.Component),yt=Object(G.b)(null,(function(t){return{addTask:function(e,n){t(function(t,e){return function(){var n=Object(p.a)(d.a.mark((function n(a){var o,r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(t,e);case 2:o=n.sent,r=o.data.data.item,a(x(r,e));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},loadTasks:function(e){t(function(t){return function(){var e=Object(p.a)(d.a.mark((function e(n){var a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:a=e.sent,o=a.data.items,n(y(o,t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},changeTask:function(e,n,a,o){t(function(t,e,n,a){return function(){var o=Object(p.a)(d.a.mark((function o(r){return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,E(n,a);case 2:r(N(t,a,e));case 3:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}()}(e,n,a,o))},deleteTask:function(e,n){t(function(t,e){return function(){var n=Object(p.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e);case 2:a(D(t,e));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},deleteTodolist:function(e){t(function(t){return function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:n(F(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},changeTodolist:function(e,n){t(function(t,e){return function(){var n=Object(p.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L(t,e);case 2:a(S(t,e));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(St),It=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={newTodoListId:0},t.addNewTodolist=function(e){t.props.addTodolist(e)},t}return Object(lt.a)(n,[{key:"render",value:function(){var t=this.props.todolists.map((function(t){return o.a.createElement(yt,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",{className:dt.a.item},o.a.createElement("div",{className:dt.a.itemHeader},o.a.createElement(Ot,{addNewTitle:this.addNewTodolist}),this.props.isAuth?o.a.createElement("div",null,this.props.login,o.a.createElement("div",{onClick:this.props.logout,className:dt.a.logout},"logout")):o.a.createElement("div",null,"Login")),o.a.createElement("div",{className:dt.a.App},t))}}]),n}(o.a.Component),Dt=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(lt.a)(n,[{key:"componentDidMount",value:function(){this.props.setTodolists(),this.props.setAuthUserData()}},{key:"render",value:function(){return this.props.isAuth?o.a.createElement(It,this.props):o.a.createElement(ot.a,{to:"/login"})}}]),n}(o.a.Component),Nt=Object(G.b)((function(t){return{todolists:t.reducer.todolists,isAuth:t.auth.isAuth,login:t.auth.login}}),(function(t){return{addTodolist:function(e){var n,a=(n=e,function(){var t=Object(p.a)(d.a.mark((function t(e){var a,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(n);case 2:a=t.sent,o=a.data.data.item,e(M(o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());t(a)},setTodolists:function(){var e=function(){var t=Object(p.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:n=t.sent,e(I(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t(e)},setAuthUserData:function(){var e=K();t(e)},logout:function(){var e=function(){var t=Object(p.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:0===t.sent.resultCode&&e(R(null,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t(e)}}}))(Dt),xt=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).render=function(){return o.a.createElement("div",{className:X.a.appWrapper},o.a.createElement(ot.b,{path:"/login",render:function(){return o.a.createElement(ct,null)}}),o.a.createElement(ot.b,{path:"/",render:function(){return o.a.createElement(Nt,null)}}))},t}return n}(o.a.Component),Ft=n(38);i.a.render(o.a.createElement(G.a,{store:B},o.a.createElement(Ft.a,null,o.a.createElement(xt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},29:function(t,e,n){t.exports={App:"TodoList_App__3_rKY",todoList:"TodoList_todoList__1UTZc",todoListHeader:"TodoList_todoListHeader__1QGGy",todoListDeleteButton:"TodoList_todoListDeleteButton__2iuhM",todoListInput:"TodoList_todoListInput__kiI__",todoListContent:"TodoList_todoListContent__nFY8q"}},42:function(t,e,n){t.exports={login:"Login_login__2kBOx",loginForm:"Login_loginForm__3aotu",testData:"Login_testData__2SXRX"}},43:function(t,e,n){t.exports={App:"Item_App__2Gf5C",error:"Item_error__1ouRN",itemHeader:"Item_itemHeader__2ZSBA",logout:"Item_logout__39dzF"}},44:function(t,e,n){t.exports={todoListTask:"TodoListTask_todoListTask__2-DJt",toDoListCheck:"TodoListTask_toDoListCheck__8voP-",done:"TodoListTask_done__3c2u5",todoListTaskDelete:"TodoListTask_todoListTaskDelete__3FJTR",todoListTaskItem:"TodoListTask_todoListTaskItem__JGui_"}},45:function(t,e,n){t.exports={filterActive:"TodoListFooter_filterActive__2w7EV",todoListFooter:"TodoListFooter_todoListFooter__1S4nM"}},56:function(t,e,n){t.exports=n.p+"static/media/basket.491ecf80.svg"},75:function(t,e,n){t.exports={formControl:"FormControl_formControl__10iKl",error:"FormControl_error__1HnSz"}},79:function(t,e,n){t.exports={todoListNewTaskForm:"TodoListInputForm_todoListNewTaskForm__3OAjG"}},80:function(t,e,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.2b9bc564.chunk.js.map